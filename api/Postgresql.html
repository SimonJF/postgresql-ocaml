<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of class methods" rel=Appendix href="index_methods.html">
<link title="Index of classes" rel=Appendix href="index_classes.html">
<link title="Index of class types" rel=Appendix href="index_class_types.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Postgresql" rel="Chapter" href="Postgresql.html"><link title="Types" rel="Section" href="#6_Types">
<link title="Exceptions and error handling" rel="Section" href="#6_Exceptionsanderrorhandling">
<link title="Utility functions" rel="Section" href="#6_Utilityfunctions">
<link title="Handling results of commands and queries" rel="Section" href="#6_Handlingresultsofcommandsandqueries">
<link title="Query parameters" rel="Section" href="#6_Queryparameters">
<link title="Handling database connections" rel="Section" href="#6_Handlingdatabaseconnections">
<title>Postgresql</title>
</head>
<body>
<div class="navbar">&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;</div>
<h1>Module <a href="type_Postgresql.html">Postgresql</a></h1>

<pre><span class="keyword">module</span> Postgresql: <code class="code">sig</code> <a href="Postgresql.html">..</a> <code class="code">end</code></pre><div class="info module top">
Client-interface to the PostgreSQL database.<br>
</div>
<hr width="100%">
<br>
Please learn about more details in the database documentation!<br>
<br>
<h6 id="6_Types">Types</h6><br>

<pre><span id="TYPEoid"><span class="keyword">type</span> <code class="type"></code>oid</span> = <code class="type">int</code> </pre>
<div class="info ">
Object ID (= Postgresql type of an object)<br>
</div>


<pre><span id="TYPElarge_object"><span class="keyword">type</span> <code class="type"></code>large_object</span> </pre>
<div class="info ">
Handle for large objects<br>
</div>


<pre><span class="keyword">module</span> <a href="Postgresql.FFormat.html">FFormat</a>: <code class="code">sig</code> <a href="Postgresql.FFormat.html">..</a> <code class="code">end</code></pre><div class="info">
Type of field formats
</div>

<pre><code><span id="TYPEftype"><span class="keyword">type</span> <code class="type"></code>ftype</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.BOOL"><span class="constructor">BOOL</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.BYTEA"><span class="constructor">BYTEA</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.CHAR"><span class="constructor">CHAR</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.NAME"><span class="constructor">NAME</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.INT8"><span class="constructor">INT8</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.INT2"><span class="constructor">INT2</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.INT2VECTOR"><span class="constructor">INT2VECTOR</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.INT4"><span class="constructor">INT4</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.REGPROC"><span class="constructor">REGPROC</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.TEXT"><span class="constructor">TEXT</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.OID"><span class="constructor">OID</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.TID"><span class="constructor">TID</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.XID"><span class="constructor">XID</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.CID"><span class="constructor">CID</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.OIDVECTOR"><span class="constructor">OIDVECTOR</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.JSON"><span class="constructor">JSON</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.POINT"><span class="constructor">POINT</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.LSEG"><span class="constructor">LSEG</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.PATH"><span class="constructor">PATH</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.BOX"><span class="constructor">BOX</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.POLYGON"><span class="constructor">POLYGON</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.LINE"><span class="constructor">LINE</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.FLOAT4"><span class="constructor">FLOAT4</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.FLOAT8"><span class="constructor">FLOAT8</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.ABSTIME"><span class="constructor">ABSTIME</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.RELTIME"><span class="constructor">RELTIME</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.TINTERVAL"><span class="constructor">TINTERVAL</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.UNKNOWN"><span class="constructor">UNKNOWN</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.CIRCLE"><span class="constructor">CIRCLE</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.CASH"><span class="constructor">CASH</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.MACADDR"><span class="constructor">MACADDR</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.INET"><span class="constructor">INET</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.CIDR"><span class="constructor">CIDR</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.ACLITEM"><span class="constructor">ACLITEM</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.BPCHAR"><span class="constructor">BPCHAR</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.VARCHAR"><span class="constructor">VARCHAR</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.DATE"><span class="constructor">DATE</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.TIME"><span class="constructor">TIME</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.TIMESTAMP"><span class="constructor">TIMESTAMP</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.TIMESTAMPTZ"><span class="constructor">TIMESTAMPTZ</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.INTERVAL"><span class="constructor">INTERVAL</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.TIMETZ"><span class="constructor">TIMETZ</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.BIT"><span class="constructor">BIT</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.VARBIT"><span class="constructor">VARBIT</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.NUMERIC"><span class="constructor">NUMERIC</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.REFCURSOR"><span class="constructor">REFCURSOR</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.REGPROCEDURE"><span class="constructor">REGPROCEDURE</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.REGOPER"><span class="constructor">REGOPER</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.REGOPERATOR"><span class="constructor">REGOPERATOR</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.REGCLASS"><span class="constructor">REGCLASS</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.REGTYPE"><span class="constructor">REGTYPE</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.RECORD"><span class="constructor">RECORD</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.CSTRING"><span class="constructor">CSTRING</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.ANY"><span class="constructor">ANY</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.ANYARRAY"><span class="constructor">ANYARRAY</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.VOID"><span class="constructor">VOID</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.TRIGGER"><span class="constructor">TRIGGER</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.LANGUAGE_HANDLER"><span class="constructor">LANGUAGE_HANDLER</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.INTERNAL"><span class="constructor">INTERNAL</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.OPAQUE"><span class="constructor">OPAQUE</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.ANYELEMENT"><span class="constructor">ANYELEMENT</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTftype.JSONB"><span class="constructor">JSONB</span></span></code></td>

</tr></table>

<div class="info ">
Type of fields<br>
</div>


<pre><code><span id="TYPEresult_status"><span class="keyword">type</span> <code class="type"></code>result_status</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTresult_status.Empty_query"><span class="constructor">Empty_query</span></span></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
String sent to the backend was empty<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTresult_status.Command_ok"><span class="constructor">Command_ok</span></span></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
Successful completion of a command returning no data<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTresult_status.Tuples_ok"><span class="constructor">Tuples_ok</span></span></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
The query successfully executed<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTresult_status.Copy_out"><span class="constructor">Copy_out</span></span></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
Copy Out (from server) data transfer started<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTresult_status.Copy_in"><span class="constructor">Copy_in</span></span></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
Copy In (to server) data transfer started<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTresult_status.Bad_response"><span class="constructor">Bad_response</span></span></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
The server's response was not understood<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTresult_status.Nonfatal_error"><span class="constructor">Nonfatal_error</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTresult_status.Fatal_error"><span class="constructor">Fatal_error</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTresult_status.Copy_both"><span class="constructor">Copy_both</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTresult_status.Single_tuple"><span class="constructor">Single_tuple</span></span></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
One tuple of a result set (<code class="code">set_single_row_mode</code>)<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr></table>

<div class="info ">
Status of command/query results<br>
</div>


<pre><code><span id="TYPEgetline_result"><span class="keyword">type</span> <code class="type"></code>getline_result</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTgetline_result.EOF"><span class="constructor">EOF</span></span></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
End of input reached<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTgetline_result.LineRead"><span class="constructor">LineRead</span></span></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
Entire line has been read<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTgetline_result.BufFull"><span class="constructor">BufFull</span></span></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
Buffer full but terminating newline not encountered<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr></table>

<div class="info ">
Result of getline<br>
</div>


<pre><code><span id="TYPEgetline_async_result"><span class="keyword">type</span> <code class="type"></code>getline_async_result</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTgetline_async_result.EndOfData"><span class="constructor">EndOfData</span></span></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
End-of-copy-data marker recognized<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTgetline_async_result.NoData"><span class="constructor">NoData</span></span></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
No data available<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTgetline_async_result.DataRead"><span class="constructor">DataRead</span></span> <span class="keyword">of</span> <code class="type">int</code></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
<code class="code">DataRead n</code> indicates <code class="code">n</code> bytes of read data<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTgetline_async_result.PartDataRead"><span class="constructor">PartDataRead</span></span> <span class="keyword">of</span> <code class="type">int</code></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
Like <code class="code">DataRead</code>, but data only partially read<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr></table>

<div class="info ">
Result of getline_async<br>
</div>


<pre><code><span id="TYPEseek_cmd"><span class="keyword">type</span> <code class="type"></code>seek_cmd</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTseek_cmd.SEEK_SET"><span class="constructor">SEEK_SET</span></span></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
Seek from start of large object<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTseek_cmd.SEEK_CUR"><span class="constructor">SEEK_CUR</span></span></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
Seek from current read/write position of large object<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTseek_cmd.SEEK_END"><span class="constructor">SEEK_END</span></span></code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
Seek from end of large object<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr></table>

<div class="info ">
Seek command ("whence")<br>
</div>

<br>
<h6 id="6_Exceptionsanderrorhandling">Exceptions and error handling</h6><br>

<pre><code><span id="TYPEerror"><span class="keyword">type</span> <code class="type"></code>error</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTerror.Field_out_of_range"><span class="constructor">Field_out_of_range</span></span> <span class="keyword">of</span> <code class="type">int * int</code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTerror.Tuple_out_of_range"><span class="constructor">Tuple_out_of_range</span></span> <span class="keyword">of</span> <code class="type">int * int</code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTerror.Binary"><span class="constructor">Binary</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTerror.Connection_failure"><span class="constructor">Connection_failure</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTerror.Unexpected_status"><span class="constructor">Unexpected_status</span></span> <span class="keyword">of</span> <code class="type"><a href="Postgresql.html#TYPEresult_status">result_status</a> * string * <a href="Postgresql.html#TYPEresult_status">result_status</a> list</code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTerror.Cancel_failure"><span class="constructor">Cancel_failure</span></span> <span class="keyword">of</span> <code class="type">string</code></code></td>

</tr></table>

<div class="info ">
Kinds of exceptions:
<p>

    <code class="code">Field_out_of_range (i, n)</code> - access to field <code class="code">i</code> not within range <code class="code">n</code>
    <code class="code">Tuple_out_of_range (i, n)</code> - access to tuple <code class="code">i</code> not within range <code class="code">n</code>
    <code class="code">Binary</code> - result consists of binary tuple data
    <code class="code">Connection_failure msg</code> - connection failed due to reason <code class="code">msg</code>
    <code class="code">Unexpected_status (stat, msg, expected)</code> - result status <code class="code">stat</code> was not in
                                                <code class="code">expected</code> due to error <code class="code">msg</code><br>
</div>


<pre><span id="EXCEPTIONError"><span class="keyword">exception</span> Error</span> <span class="keyword">of</span> <code class="type"><a href="Postgresql.html#TYPEerror">error</a></code></pre>
<div class="info ">
<code class="code">Error error</code> indicates an <code class="code">error</code><br>
</div>

<pre><span id="VALstring_of_error"><span class="keyword">val</span> string_of_error</span> : <code class="type"><a href="Postgresql.html#TYPEerror">error</a> -> string</code></pre><div class="info ">
<code class="code">string_of_error error</code> convert <code class="code">error</code> to a human-readable message<br>
</div>

<pre><span id="EXCEPTIONOid"><span class="keyword">exception</span> Oid</span> <span class="keyword">of</span> <code class="type"><a href="Postgresql.html#TYPEoid">oid</a></code></pre>
<div class="info ">
<code class="code">Oid oid</code> conversion from an oid to an ftype encountered an unknown <code class="code">oid</code><br>
</div>
<br>
<h6 id="6_Utilityfunctions">Utility functions</h6><br>

<pre><span id="VALunescape_bytea"><span class="keyword">val</span> unescape_bytea</span> : <code class="type">string -> string</code></pre><div class="info ">
<code class="code">unescape_bytea str</code> unescapes binary string <code class="code">str</code>.  This function
    supports the new hex format for encoding bytea strings (introduced
    in Postgresql 9.0) even if the local libpq library is from an
    older version.<br>
</div>

<pre><span id="VALftype_of_oid"><span class="keyword">val</span> ftype_of_oid</span> : <code class="type"><a href="Postgresql.html#TYPEoid">oid</a> -> <a href="Postgresql.html#TYPEftype">ftype</a></code></pre><div class="info ">
<code class="code">ftype_of_oid oid</code> converts <code class="code">oid</code> to an <code class="code">ftype</code>.<br>
</div>

<pre><span id="VALoid_of_ftype"><span class="keyword">val</span> oid_of_ftype</span> : <code class="type"><a href="Postgresql.html#TYPEftype">ftype</a> -> <a href="Postgresql.html#TYPEoid">oid</a></code></pre><div class="info ">
<code class="code">oid_of_ftype ftype</code> converts <code class="code">ftype</code> to an <code class="code">oid</code>.<br>
</div>

<pre><span id="VALstring_of_ftype"><span class="keyword">val</span> string_of_ftype</span> : <code class="type"><a href="Postgresql.html#TYPEftype">ftype</a> -> string</code></pre><div class="info ">
<code class="code">string_of_ftype ftype</code> converts <code class="code">ftype</code> to a string.<br>
</div>

<pre><span id="VALftype_of_string"><span class="keyword">val</span> ftype_of_string</span> : <code class="type">string -> <a href="Postgresql.html#TYPEftype">ftype</a></code></pre><div class="info ">
<code class="code">string_of_ftype ftype</code> converts <code class="code">ftype</code> to a string.<br>
</div>
<br>
<h6 id="6_Handlingresultsofcommandsandqueries">Handling results of commands and queries</h6><br>

<pre><span id="VALresult_status"><span class="keyword">val</span> result_status</span> : <code class="type"><a href="Postgresql.html#TYPEresult_status">result_status</a> -> string</code></pre><div class="info ">
<code class="code">result_status stat</code> convert status <code class="code">stat</code> to a human-readable message<br>
</div>

<pre><span id="VALinvalid_oid"><span class="keyword">val</span> invalid_oid</span> : <code class="type"><a href="Postgresql.html#TYPEoid">oid</a></code></pre><div class="info ">
<code class="code">invalid_oid</code> invalid Oid.<br>
</div>
<br>
<h6 id="6_Queryparameters">Query parameters</h6><br>

<pre><span id="VALnull"><span class="keyword">val</span> null</span> : <code class="type">string</code></pre><div class="info ">
<code class="code">null</code> can be used as an element of the optional argument <code class="code">parameters</code>
    passed to the <code class="code">exec</code> or <code class="code">send_query</code> method to indicate a NULL value.<br>
</div>

<pre><span id="TYPEresult"><span class="keyword">class type</span> <a href="Postgresql.result-c.html">result</a></span> = <code class="code">object</code> <a href="Postgresql.result-c.html">..</a> <code class="code">end</code></pre><div class="info">
Class type of query results.
</div>
<br>
<h6 id="6_Handlingdatabaseconnections">Handling database connections</h6><br>

<pre><code><span id="TYPEconnection_status"><span class="keyword">type</span> <code class="type"></code>connection_status</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconnection_status.Ok"><span class="constructor">Ok</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconnection_status.Bad"><span class="constructor">Bad</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconnection_status.Connection_started"><span class="constructor">Connection_started</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconnection_status.Connection_made"><span class="constructor">Connection_made</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconnection_status.Connection_awaiting_response"><span class="constructor">Connection_awaiting_response</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconnection_status.Connection_auth_ok"><span class="constructor">Connection_auth_ok</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconnection_status.Connection_setenv"><span class="constructor">Connection_setenv</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconnection_status.Connection_ssl_startup"><span class="constructor">Connection_ssl_startup</span></span></code></td>

</tr></table>

<div class="info ">
Status of a connection<br>
</div>


<pre><code><span id="TYPEpolling_status"><span class="keyword">type</span> <code class="type"></code>polling_status</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTpolling_status.Polling_failed"><span class="constructor">Polling_failed</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTpolling_status.Polling_reading"><span class="constructor">Polling_reading</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTpolling_status.Polling_writing"><span class="constructor">Polling_writing</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTpolling_status.Polling_ok"><span class="constructor">Polling_ok</span></span></code></td>

</tr></table>

<div class="info ">
Polling status used while establishing a connection asynchronously.<br>
</div>


<pre><code><span id="TYPEflush_status"><span class="keyword">type</span> <code class="type"></code>flush_status</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTflush_status.Successful"><span class="constructor">Successful</span></span></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTflush_status.Data_left_to_send"><span class="constructor">Data_left_to_send</span></span></code></td>

</tr></table>

<div class="info ">
Result of a call to flush on nonblocking connections.<br>
</div>


<pre><code><span id="TYPEconninfo_option"><span class="keyword">type</span> <code class="type"></code>conninfo_option</span> = {</code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconninfo_option.cio_keyword">cio_keyword</span>&nbsp;: <code class="type">string</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
Keyword of option<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconninfo_option.cio_envvar">cio_envvar</span>&nbsp;: <code class="type">string option</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
Fallback environment variable name<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconninfo_option.cio_compiled">cio_compiled</span>&nbsp;: <code class="type">string option</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
Fallback compiled in default value<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconninfo_option.cio_val">cio_val</span>&nbsp;: <code class="type">string option</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
Current value of option, or NULL<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconninfo_option.cio_label">cio_label</span>&nbsp;: <code class="type">string</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
Label for field in connect dialog<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconninfo_option.cio_dispchar">cio_dispchar</span>&nbsp;: <code class="type">string</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
Character to display for this field in dialog<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr>
<tr>
<td align="left" valign="top" >
<code>&nbsp;&nbsp;</code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTconninfo_option.cio_dispsize">cio_dispsize</span>&nbsp;: <code class="type">int</code>;</code></td>
<td class="typefieldcomment" align="left" valign="top" ><code>(*</code></td><td class="typefieldcomment" align="left" valign="top" ><div class="info ">
Field size in characters for dialog<br>
</div>
</td><td class="typefieldcomment" align="left" valign="bottom" ><code>*)</code></td>
</tr></table>
}

<div class="info ">
Record of connection options<br>
</div>


<pre><span class="keyword">module</span> <a href="Postgresql.Notification.html">Notification</a>: <code class="code">sig</code> <a href="Postgresql.Notification.html">..</a> <code class="code">end</code></pre><div class="info">
Type of asynchronous notifications
</div>

<pre><span id="VALconndefaults"><span class="keyword">val</span> conndefaults</span> : <code class="type">unit -> <a href="Postgresql.html#TYPEconninfo_option">conninfo_option</a> array</code></pre><div class="info ">
<code class="code">conndefaults ()</code><br>
<b>Returns</b> array of all records of type <code class="code">conninfo_option</code><br>
</div>

<pre><span name="TYPEconnection"><span class="keyword">class</span> <a href="Postgresql.connection-c.html">connection</a></span> : <code class="type">?host:string -> ?hostaddr:string -> ?port:string -> ?dbname:string -> ?user:string -> ?password:string -> ?options:string -> ?tty:string -> ?requiressl:string -> ?conninfo:string -> ?startonly:bool -> unit -> </code><code class="code">object</code> <a href="Postgresql.connection-c.html">..</a> <code class="code">end</code></pre><div class="info">
Class of connections.
</div>
</body></html>