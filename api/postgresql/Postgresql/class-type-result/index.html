<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>result (postgresql.Postgresql.result)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../index.html">postgresql</a></span></nav><header><h1><span class="keyword">Class type</span> <span class="module-path">Postgresql.result</span></h1></header><div class="doc"><p>Class type of query results.</p><p>Indices of tuples and fields start at 0!</p></div><div class="spec method" id="class-type-result-method-status"><a href="#class-type-result-method-status" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>status : <a href="../index.html#type-result_status">result_status</a></code></div><div class="doc"><p><code class="code">#status</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> status of a command/query result.</li></ul></div></div><div class="spec method" id="class-type-result-method-error"><a href="#class-type-result-method-error" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>error : string</code></div><div class="doc"><p><code class="code">#error</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> error string of a result.</li></ul></div></div><p>Retrieving SELECT Result Information</p><div class="spec method" id="class-type-result-method-ntuples"><a href="#class-type-result-method-ntuples" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>ntuples : int</code></div><div class="doc"><p><code class="code">#ntuples</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> the number of tuples of a query result.</li></ul></div></div><div class="spec method" id="class-type-result-method-nparams"><a href="#class-type-result-method-nparams" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>nparams : int</code></div><div class="doc"><p><code class="code">#nparams</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> the number of parameters of a prepared
statement. This function is only useful when inspecting the result
of <code class="code">#describe_prepared</code>. For other types of queries it will return
zero.</li></ul></div></div><div class="spec method" id="class-type-result-method-nfields"><a href="#class-type-result-method-nfields" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>nfields : int</code></div><div class="doc"><p><code class="code">#nfields</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> the number of fields in a query result.</li></ul></div></div><div class="spec method" id="class-type-result-method-fname"><a href="#class-type-result-method-fname" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>fname : int <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"><p><code class="code">#fname n</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> the name of the <code class="code">n</code>th field.</li><li><span class="at-tag raise">Raises</span> <span class="module-path">Error</span>: if field out of range.</li></ul></div></div><div class="spec method" id="class-type-result-method-fnumber"><a href="#class-type-result-method-fnumber" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>fnumber : string <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p><code class="code">#fnumber field</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> the index of the field named <code class="code">field</code>.</li><li><span class="at-tag raise">Raises</span> <span class="module-path">Not_found</span>: if no such named field.</li></ul></div></div><div class="spec method" id="class-type-result-method-fformat"><a href="#class-type-result-method-fformat" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>fformat : int <span class="keyword">&#8209;&gt;</span> <a href="../FFormat/index.html#type-t">FFormat.t</a></code></div><div class="doc"><p><code class="code">#fformat n</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> the format of the <code class="code">n</code>th field.</li><li><span class="at-tag raise">Raises</span> <span class="module-path">Error</span>: if field out of range.</li></ul></div></div><div class="spec method" id="class-type-result-method-ftype"><a href="#class-type-result-method-ftype" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>ftype : int <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-ftype">ftype</a></code></div><div class="doc"><p><code class="code">#ftype n</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> the type of the <code class="code">n</code>th field.</li><li><span class="at-tag raise">Raises</span> <span class="module-path">Oid</span>: if there was no corresponding ftype for the internal <code class="code">oid</code>.</li><li><span class="at-tag raise">Raises</span> <span class="module-path">Error</span>: if field out of range.</li></ul></div></div><div class="spec method" id="class-type-result-method-ftype_oid"><a href="#class-type-result-method-ftype_oid" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>ftype_oid : int <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-oid">oid</a></code></div><div class="doc"><p><code class="code">#ftype n</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> the oid of the <code class="code">n</code>th field.</li><li><span class="at-tag raise">Raises</span> <span class="module-path">Error</span>: if field out of range.</li></ul></div></div><div class="spec method" id="class-type-result-method-paramtype"><a href="#class-type-result-method-paramtype" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>paramtype : int <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-ftype">ftype</a></code></div><div class="doc"><p><code class="code">#paramtype n</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> the datatype of the indicated statement
parameter. Parameter numbers start at 0. This function is
only useful when inspecting the result of <code class="code">#describe_prepared</code>.
For other types of queries it will return zero.</li><li><span class="at-tag raise">Raises</span> <span class="module-path">Oid</span>: if there was no corresponding ftype for the internal <code class="code">oid</code>.</li><li><span class="at-tag raise">Raises</span> <span class="module-path">Error</span>: if field out of range.</li></ul></div></div><div class="spec method" id="class-type-result-method-paramtype_oid"><a href="#class-type-result-method-paramtype_oid" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>paramtype_oid : int <span class="keyword">&#8209;&gt;</span> <a href="../index.html#type-oid">oid</a></code></div><div class="doc"><p><code class="code">#paramtype n</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> the oid of the indicated statement
parameter. Parameter numbers start at 0. This function is
only useful when inspecting the result of <code class="code">#describe_prepared</code>.
For other types of queries it will return zero.</li><li><span class="at-tag raise">Raises</span> <span class="module-path">Error</span>: if field out of range.</li></ul></div></div><div class="spec method" id="class-type-result-method-fmod"><a href="#class-type-result-method-fmod" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>fmod : int <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p><code class="code">#fmod n</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> type-specific modification data of the <code class="code">n</code>th field.</li><li><span class="at-tag raise">Raises</span> <span class="module-path">Error</span>: if field out of range.</li></ul></div></div><div class="spec method" id="class-type-result-method-fsize"><a href="#class-type-result-method-fsize" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>fsize : int <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p><code class="code">#fsize n</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> size in bytes of the <code class="code">n</code>th field.</li><li><span class="at-tag raise">Raises</span> <span class="module-path">Error</span>: if field out of range.</li></ul></div></div><div class="spec method" id="class-type-result-method-binary_tuples"><a href="#class-type-result-method-binary_tuples" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>binary_tuples : bool</code></div><div class="doc"><p><code class="code">#binary_tuples</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> <code class="code">true</code> iff result contains binary tuple data.</li></ul></div></div><p>Retrieving SELECT Result Values</p><div class="spec method" id="class-type-result-method-getvalue"><a href="#class-type-result-method-getvalue" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>getvalue : int <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"><p><code class="code">#getvalue tuple field</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> value of <code class="code">field</code> in <code class="code">tuple</code>.</li><li><span class="at-tag raise">Raises</span> <span class="module-path">Error</span>: if tuple out of range.</li><li><span class="at-tag raise">Raises</span> <span class="module-path">Error</span>: if field out of range.</li></ul></div></div><div class="spec method" id="class-type-result-method-get_escaped_value"><a href="#class-type-result-method-get_escaped_value" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>get_escaped_value : int <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"><p><code class="code">#get_escaped_value tuple field</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> escaped value of <code class="code">field</code> in
<code class="code">tuple</code>.</li><li><span class="at-tag raise">Raises</span> <span class="module-path">Error</span>: if tuple out of range.</li><li><span class="at-tag raise">Raises</span> <span class="module-path">Error</span>: if field out of range.</li></ul></div></div><div class="spec method" id="class-type-result-method-getisnull"><a href="#class-type-result-method-getisnull" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>getisnull : int <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> bool</code></div><div class="doc"><p><code class="code">#getisnull tuple field</code> tests for a NULL-value of <code class="code">field</code> in <code class="code">tuple</code>.</p><ul class="at-tag"><li><span class="at-tag raise">Raises</span> <span class="module-path">Error</span>: if tuple out of range.</li><li><span class="at-tag raise">Raises</span> <span class="module-path">Error</span>: if field out of range.</li></ul></div></div><div class="spec method" id="class-type-result-method-getlength"><a href="#class-type-result-method-getlength" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>getlength : int <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p><code class="code">#getlength tuple field</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> length of value in <code class="code">field</code> of
<code class="code">tuple</code> in bytes.</li><li><span class="at-tag raise">Raises</span> <span class="module-path">Error</span>: if tuple out of range.</li><li><span class="at-tag raise">Raises</span> <span class="module-path">Error</span>: if field out of range.</li></ul></div></div><p>Retrieving Non-SELECT Result Information</p><div class="spec method" id="class-type-result-method-cmd_status"><a href="#class-type-result-method-cmd_status" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>cmd_status : string</code></div><div class="doc"><p><code class="code">#cmd_status</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> status of SQL-command associated with result.</li></ul></div></div><div class="spec method" id="class-type-result-method-cmd_tuples"><a href="#class-type-result-method-cmd_tuples" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>cmd_tuples : string</code></div><div class="doc"><p><code class="code">#cmd_tuples</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> number of rows affected by the SQL command.</li></ul></div></div><div class="spec method" id="class-type-result-method-oid_value"><a href="#class-type-result-method-oid_value" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>oid_value : <a href="../index.html#type-oid">oid</a></code></div><div class="doc"><p><code class="code">#cmd_tuples</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> the object ID of the inserted row if the SQL
command was an INSERT that inserted exactly one row into a table
that has OIDs. Otherwise, returns <code class="code">invalid_oid</code>.</li></ul></div></div><p>High-level routines</p><div class="spec method" id="class-type-result-method-get_fnames"><a href="#class-type-result-method-get_fnames" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>get_fnames : string array</code></div><div class="doc"><p><code class="code">#get_fnames</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> array of field names.</li></ul></div></div><div class="spec method" id="class-type-result-method-get_fnames_lst"><a href="#class-type-result-method-get_fnames_lst" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>get_fnames_lst : string list</code></div><div class="doc"><p><code class="code">#get_fnames_lst</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> list of field names.</li></ul></div></div><div class="spec method" id="class-type-result-method-get_tuple"><a href="#class-type-result-method-get_tuple" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>get_tuple : int <span class="keyword">&#8209;&gt;</span> string array</code></div><div class="doc"><p><code class="code">#get_tuple n</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> all fields of the <code class="code">n</code>th tuple.</li><li><span class="at-tag raise">Raises</span> <span class="module-path">Error</span>: if tuple out of range.</li></ul></div></div><div class="spec method" id="class-type-result-method-get_tuple_lst"><a href="#class-type-result-method-get_tuple_lst" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>get_tuple_lst : int <span class="keyword">&#8209;&gt;</span> string list</code></div><div class="doc"><p><code class="code">#get_tuple_lst n</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> all fields of the <code class="code">n</code>th tuple as list.</li><li><span class="at-tag raise">Raises</span> <span class="module-path">Error</span>: if tuple out of range.</li></ul></div></div><div class="spec method" id="class-type-result-method-get_all"><a href="#class-type-result-method-get_all" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>get_all : string array array</code></div><div class="doc"><p><code class="code">#get_all</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> all tuples with all fields.</li></ul></div></div><div class="spec method" id="class-type-result-method-get_all_lst"><a href="#class-type-result-method-get_all_lst" class="anchor"></a><div class="def method"><code><span class="keyword">method </span>get_all_lst : string list list</code></div><div class="doc"><p><code class="code">#get_all</code></p><ul class="at-tag"><li><span class="at-tag return">Returns</span> all tuples with all fields as lists.</li></ul></div></div></body></html>